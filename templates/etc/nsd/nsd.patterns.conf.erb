pattern:
  name: <%= @name %>
<%- if @zonefile -%>
  zonefile: "<%= @zonefile %>"
<%- end -%>
<%- @allow_notifies.each do |allow_notify| -%>
<%- if allow_notify['address4'] -%>
  allow-notify: <%= allow_notify['address4'] %>@<%= allow_notify['port'] || 53 -%> <%= allow_notify['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- if allow_notify['address6'] -%>
  allow-notify: <%= allow_notify['address6'] %>@<%= allow_notify['port'] || 53 -%> <%= allow_notify['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- end -%>
<%- @request_xfrs.each do |request_xfr| -%>
<%- if request_xfr['address4'] -%>
  request-xfr: <%= request_xfr['address4'] %>@<%= request_xfr['port'] || 53 -%> <%= request_xfr['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- if request_xfr['address6'] -%>
  request-xfr: <%= request_xfr['address6'] %>@<%= request_xfr['port'] || 53 -%> <%= request_xfr['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- end -%>
<%- if defined?(@allow_axfr_fallback) -%>
<%- if @allow_axfr_fallback -%>
  allow-axfr-fallback: yes
<%- else -%>
  allow-axfr-fallback: no
<%- end -%>
<%- end -%>
<%- if @size_limit_xfr -%>
  size-limit-xfr: <%= @size_limit_xfr %>
<%- end -%>
<%- @notifies.each do |notify| -%>
<%- if notify['address4'] -%>
  notify: <%= notify['address4'] %>@<%= notify['port'] || 53 -%> <%= notify['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- if notify['address6'] -%>
  notify: <%= notify['address6'] %>@<%= notify['port'] || 53 -%> <%= notify['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- end -%>
<%- if @notify_retry -%>
  notify-retry: <%= @notify_retry %>
<%- end -%>
<%- @provide_xfrs.each do |provide_xfr| -%>
<%- if provide_xfr['address4'] -%>
  provide-xfr: <%= provide_xfr['address4'] %>@<%= provide_xfr['port'] || 53 -%> <%= provide_xfr['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- if provide_xfr['address6'] -%>
  provide-xfr: <%= provide_xfr['address6'] %>@<%= provide_xfr['port'] || 53 -%> <%= provide_xfr['tsig_name'] || 'NOKEY' %>
<%- end -%>
<%- end -%>
<%- if @outgoing_interface4 -%>
  outgoing-interface: <%= @outgoing_interface4 %>
<%- end -%>
<%- if @outgoing_interface6 -%>
  outgoing-interface: <%= @outgoing_interface6 %>
<%- end -%>
<%- if @max_refresh_time -%>
  max-refresh-time: <%= @max_refresh_time %>
<%- end -%>
<%- if @min_refresh_time -%>
  min-refresh-time: <%= @min_refresh_time %>
<%- end -%>
<%- if @max_retry_time -%>
  max-retry-time: <%= @max_retry_time %>
<%- end -%>
<%- if @min_retry_time -%>
  min-retry-time: <%= @min_retry_time %>
<%- end -%>
<%- if @zonestats -%>
  zonestats: "<%= @zonestats %>"
<%- end -%>
<%- @include_patterns.each do |include_pattern| -%>
  include-pattern: <%= include_pattern %>
<%- end -%>
<%- if defined?(@multi_master_check) -%>
<%- if @multi_master_check -%>
  multi-master-check: yes
<%- else -%>
  multi-master-check: no
<%- end -%>
<%- end -%>
